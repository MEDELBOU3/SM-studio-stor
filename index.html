<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SM ENGINE - Premium Free 3D Assets</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/fontawesome.min.css" integrity="sha512-d0olNN35C6VLiulAobxYHZiXJmq+vl+BGIgAxQtD5+vqungFB7bHyABLENLTKDbwTTvVRTYkvGYZrTnGUReisA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="stor.css">
</head>
<body>
   <header class="site-header">
        <div class="container site-header__container">
            <a href="https://medelbou3.github.io/SM-Engine/" class="logo logo--new-design" id="homeLinkLogo">
                <svg class="logo__svg" viewBox="0 0 70 70" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="var(--color-primary-dark)"/>
                            <stop offset="100%" stop-color="var(--color-accent)"/>
                        </linearGradient>
                        <linearGradient id="logoHighlight" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="var(--color-primary)" />
                            <stop offset="100%" stop-color="var(--color-accent-dark)" />
                        </linearGradient>
                         <filter id="logoGlow" x="-50%" y="-50%" width="200%" height="200%">
                            <feGaussianBlur in="SourceAlpha" stdDeviation="2" result="blur"/>
                            <feOffset in="blur" dx="1" dy="1" result="offsetBlur"/>
                            <feSpecularLighting in="blur" surfaceScale="5" specularConstant=".75" specularExponent="20" lighting-color="#bbbbbb" result="specOut">
                                <fePointLight x="-5000" y="-10000" z="20000"/>
                            </feSpecularLighting>
                            <feComposite in="specOut" in2="SourceAlpha" operator="in" result="specOut"/>
                            <feComposite in="SourceGraphic" in2="specOut" operator="arithmetic" k1="0" k2="1" k3="1" k4="0" result="litPaint"/>
                            <feMerge>
                                <feMergeNode in="offsetBlur"/>
                                <feMergeNode in="litPaint"/>
                            </feMerge>
                        </filter>
                    </defs>
                    <g filter="url(#logoGlow)">
                         <!-- Abstract cube-like M -->
                        <path fill="url(#logoGradient)" 
                              d="M10 60 L10 15 L20 10 L35 10 L40 15 L40 30 L30 35 L30 55 L35 60 L10 60 Z 
                                 M40 15 L45 10 L60 10 L60 55 L55 60 L40 55 L40 15 Z" />
                        <path fill="url(#logoHighlight)" opacity="0.6"
                              d="M12 58 L12 17 L20 12 L35 12 L38 17 L38 30 L30 33 L30 53 L35 58 L12 58 Z 
                                 M42 17 L45 12 L58 12 L58 53 L55 58 L42 53 L42 17 Z" />
                    </g>
                </svg>
                <span class="logo__text">SM Engine<span class="logo__text-pro">TM</span></span>
            </a>

            <nav class="main-nav">
                <a href="#" class="main-nav__link is-active" id="homeLinkNav">Home</a>
                <a href="#modelsSection" class="main-nav__link" id="exploreLinkNav">Explore</a>
                <a href="#categoriesSection" class="main-nav__link" id="categoriesLinkNav">Categories</a>
                <a href="#" class="main-nav__link">Submit Asset</a>
            </nav>

            <form class="search-form" onsubmit="return false;">
                <input type="text" class="search-form__input" placeholder="Search assets, e.g. 'sci-fi character'..." id="searchInput" aria-label="Search 3D Models">
                <button class="search-form__button" aria-label="Execute Search" id="searchButton"><i class="fas fa-search"></i></button>
            </form>

            <div class="user-profile-actions">
                <button class="user-profile-actions__button" title="My Wishlist" aria-label="View My Wishlist" id="showWishlistBtn">
                    <i class="fas fa-heart" style="color: var(--color-text-primary);"></i>
                    <span class="user-profile-actions__badge" id="wishlistCounter" style="display: none;">0</span>
                </button>
                <a href="#" class="user-profile-actions__link" title="My Account" aria-label="My Account">
                    <i class="fas fa-user-circle"></i>
                </a>
                <!-- <button class="button button--primary button--sm">Sign Up</button> -->
            </div>
        </div>
    </header>

    <main>
        <section class="hero-section">
            <div class="container hero-section__content">
                <h1 class="hero-section__title">Unlock Your Creative Universe</h1>
                <p class="hero-section__subtitle">Discover thousands of professionally-crafted, free 3D models. Ready for your games, animations, VR experiences, and architectural visualizations.</p>
                <div class="hero-section__actions">
                    <a href="#modelsSection" class="button button--primary button--lg">Browse All Assets</a>
                    <a href="#" class="button button--outline button--lg">Become a Contributor</a>
                </div>
            </div>
        </section>

        <section class="page-section featured-models-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-header__title">Spotlight Assets</h2>
                    <div class="section-header__controls">
                        <div class="slider-controls">
                            <button class="slider-button" id="sliderPrev" aria-label="Previous Spotlight Asset"><i class="fas fa-chevron-left"></i></button>
                            <button class="slider-button" id="sliderNext" aria-label="Next Spotlight Asset"><i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                </div>
                <div class="featured-slider__wrapper">
                    <div class="featured-slider" id="featuredSlider">
                         <p class="featured-slider__placeholder-message">Loading spotlight assets...</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="page-section" id="categoriesSection">
            <div class="container">
                <div class="section-header">
                     <h2 class="section-header__title">Explore by Category</h2>
                </div>
                <div class="categories-grid" id="categoriesGrid">
                    <!-- Categories will be dynamically generated if preferred, or static -->
                    <div class="category-card" data-category="architecture" tabindex="0">
                        <div class="category-card__icon"><i class="fas fa-university"></i></div>
                        <h3 class="category-card__name">Architecture</h3>
                        <div class="category-card__count">1200+ Assets</div>
                    </div>
                    <div class="category-card" data-category="characters" tabindex="0">
                        <div class="category-card__icon"><i class="fas fa-users"></i></div>
                        <h3 class="category-card__name">Characters</h3>
                        <div class="category-card__count">950+ Assets</div>
                    </div>
                    <div class="category-card" data-category="vehicles" tabindex="0">
                        <div class="category-card__icon"><i class="fas fa-space-shuttle"></i></div>
                        <h3 class="category-card__name">Vehicles</h3>
                        <div class="category-card__count">800+ Assets</div>
                    </div>
                    <div class="category-card" data-category="nature" tabindex="0">
                        <div class="category-card__icon"><i class="fas fa-leaf"></i></div>
                        <h3 class="category-card__name">Nature & Plants</h3>
                        <div class="category-card__count">700+ Assets</div>
                    </div>
                    <div class="category-card" data-category="props" tabindex="0">
                        <div class="category-card__icon"><i class="fas fa-magic"></i></div>
                        <h3 class="category-card__name">Props & Items</h3>
                        <div class="category-card__count">1500+ Assets</div>
                    </div>
                     <div class="category-card" data-category="sci-fi" tabindex="0">
                        <div class="category-card__icon"><i class="fas fa-robot"></i></div>
                        <h3 class="category-card__name">Sci-Fi</h3>
                        <div class="category-card__count">600+ Assets</div>
                    </div>
                </div>
            </div>
        </section>

        <section class="page-section" id="modelsSection">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-header__title" id="mainSectionTitle">Discover Free Assets</h2>
                     <button id="clearFiltersBtn" class="button button--outline button--sm" style="display: none;"><i class="fas fa-times"></i> Clear Filters</button>
                </div>
                
                <div class="filters-bar" id="filterBar">
                    <div class="filter-group">
                        <label for="sortSelect" class="filter-group__label">Sort by:</label>
                        <select class="filter-select" id="sortSelect" aria-label="Sort models by">
                            <option value="recent">-publishedAt</option> <!-- API param for recent -->
                            <option value="popular">-viewCount</option>   <!-- API param for popular -->
                            <option value="rating">-likeCount</option>    <!-- API param for highest rated -->
                        </select>
                    </div>
                    <!-- "Price" filter might be less relevant if all are free -->
                    <!-- <div class="filter-group">
                        <span class="filter-group__label">Price:</span>
                        <div class="filter-tag is-active" data-price="all">All Free</div>
                    </div> -->
                    <div class="filter-group">
                        <label for="formatSelect" class="filter-group__label">Format (Hint):</label>
                        <select class="filter-select" id="formatSelect" aria-label="Filter models by format hint">
                            <option value="all">Any Format</option>
                            <option value="gltf">glTF</option>
                            <option value="fbx">FBX</option>
                            <option value="obj">OBJ</option>
                            <option value="blend">Blender</option>
                            <option value="usdz">USDZ</option> <!-- Sketchfab API does provide USDZ sometimes -->
                        </select>
                    </div>
                </div>
                
                <div class="models-grid" id="modelsGrid">
                    <!-- Models dynamically loaded here -->
                </div>
                
                <div class="pagination-container" id="paginationContainer">
                     <div class="pagination">
                        <!-- Pagination buttons dynamically loaded here -->
                     </div>
                </div>
            </div>
        </section>
        
        <section class="cta-banner">
            <div class="container">
                <h2 class="cta-banner__title">Fuel Your Next Masterpiece</h2>
                <p class="cta-banner__text">Join a vibrant community of creators. Share your work, find inspiration, and elevate your projects with high-quality, free 3D assets from ModelHub Pro.</p>
                <a href="#" class="button button--primary button--lg">Create Free Account</a>
            </div>
        </section>
    </main>

    <div class="modal-overlay" id="modelViewerOverlay">
        <div class="modal-container" id="modelViewerContainer">
            <button class="modal__close-button" id="closeViewerBtn" aria-label="Close model viewer"><i class="fas fa-times"></i></button>
            <div class="modal__main-content">
                <div class="modal__viewer-area">
                     <div class="modal__iframe-loader is-visible" id="iframeLoaderMessage"><i class="fas fa-spinner fa-spin"></i> Loading 3D Preview...</div>
                     <iframe id="sketchfabViewer" class="modal__iframe" title="3D Model Viewer" frameborder="0" allowfullscreen allow="autoplay; fullscreen; xr-spatial-tracking; gyroscope; accelerometer; webgl"></iframe>
                </div>
                <div class="modal__viewer-controls">
                    <button title="Reset Camera (API action)" aria-label="Reset Camera"><i class="fas fa-sync-alt"></i></button>
                    <button title="Toggle Wireframe (API action)" aria-label="Toggle Wireframe"><i class="fas fa-vector-square"></i></button>
                    <button title="Toggle Fullscreen (API action)" aria-label="Toggle Fullscreen"><i class="fas fa-expand"></i></button>
                </div>
            </div>
            <aside class="modal__sidebar">
                <h2 class="modal__sidebar-title" id="modelTitleSidebar">Model Title</h2>
                <div class="modal__artist-info">
                    <img src="https://placehold.co/44x44/242A38/A0AEC0?text=A&font=lato" class="modal__artist-avatar" alt="Artist Avatar" id="modelArtistAvatarSidebar">
                    <div class="modal__artist-details">
                        <h4 id="modelArtistNameSidebar">Artist Name</h4>
                        <p id="modelArtistBioSidebar">3D Generalist</p>
                    </div>
                </div>
                
                <div class="modal__stats-bar">
                    <div class="modal__stat-item"><i class="fas fa-eye"></i> <span id="modelViewCountSidebar">0</span></div>
                    <div class="modal__stat-item"><i class="fas fa-heart"></i> <span id="modelLikeCountSidebar">0</span></div>
                    <div class="modal__stat-item"><i class="fas fa-file-alt"></i> <span id="modelFaceCountSidebar">0</span></div>
                </div>

                <div class="modal__tags-list" id="modelTagsSidebar">
                    <!-- Tags will be added dynamically -->
                </div>

                <div class="modal__action-buttons">
                    <button class="button button--primary button--block modal__download-button" id="downloadModelBtnSidebar">
                        <i class="fas fa-download"></i> Download Model
                    </button>
                    <button class="button button--outline button--block modal__wishlist-button" id="viewerWishlistBtnSidebar" aria-label="Add to Wishlist">
                        <i class="far fa-heart"></i> <span>Add to Wishlist</span>
                    </button>
                </div>
                
                <div class="modal__accordion">
                    <details class="accordion__item" open>
                        <summary class="accordion__summary">Description</summary>
                        <div class="accordion__content accordion__content--description" id="modelDescriptionSidebar">
                            No description available.
                        </div>
                    </details>
                    <details class="accordion__item">
                        <summary class="accordion__summary">Technical Details</summary>
                        <div class="accordion__content">
                            <ul id="technicalDetailsListSidebar">
                                <li><strong>Formats:</strong> <span id="modelFormatsSidebar">Unavailable</span></li>
                                <li><strong>Vertices:</strong> <span id="modelVertexCountSidebar">Unavailable</span></li>
                                <li><strong>Rigged:</strong> <span id="modelRiggedSidebar">Unavailable</span></li>
                                <li><strong>Animated:</strong> <span id="modelAnimatedSidebar">Unavailable</span></li>
                                <li><strong>License:</strong> <span id="modelLicenseSidebar">Check Source</span></li>
                            </ul>
                        </div>
                    </details>
                </div>

                <div class="modal__reviews-section">
                    <h4 class="modal__reviews-title">User Reviews (<span id="reviewCountSidebar">0</span>)</h4>
                    <div class="reviews-list" id="reviewsListSidebar">
                        <p class="modal__reviews-placeholder">No reviews yet for this asset.</p>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <footer class="site-footer">
        <div class="container site-footer__container">
            <div class="site-footer__column site-footer__about">
                <h3 class="site-footer__heading">SM Engine</h3>
                <p class="site-footer__text">Your premier destination for high-quality, free 3D assets. Empowering creators with the tools to build breathtaking digital experiences.</p>
                <div class="social-links">
                    <a href="#" class="social-links__icon" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="social-links__icon" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="social-links__icon" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-links__icon" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
            <div class="site-footer__column">
                <h3 class="site-footer__heading">Explore</h3>
                <ul class="site-footer__links">
                    <li><a href="#featuredSlider" class="site-footer__link">Spotlight Assets</a></li>
                    <li><a href="#" class="site-footer__link" id="footerNewAdditionsLink">New Additions</a></li>
                    <li><a href="#categoriesSection" class="site-footer__link">All Categories</a></li>
                    <li><a href="#" class="site-footer__link">Popular Tags</a></li>
                </ul>
            </div>
            <div class="site-footer__column">
                <h3 class="site-footer__heading">Community</h3>
                <ul class="site-footer__links">
                    <li><a href="#" class="site-footer__link">Forums</a></li>
                    <li><a href="#" class="site-footer__link">Tutorials & Resources</a></li>
                    <li><a href="#" class="site-footer__link">Become a Contributor</a></li>
                    <li><a href="#" class="site-footer__link">Asset Guidelines</a></li>
                </ul>
            </div>
            <div class="site-footer__column">
                <h3 class="site-footer__heading">Support</h3>
                <ul class="site-footer__links">
                    <li><a href="#" class="site-footer__link">Help Center / FAQ</a></li>
                    <li><a href="#" class="site-footer__link">Contact Us</a></li>
                    <li><a href="#" class="site-footer__link">Terms of Service</a></li>
                    <li><a href="#" class="site-footer__link">Privacy Policy</a></li>
                </ul>
            </div>
        </div>
        <div class="site-footer__copyright">
            <p>© <span id="currentYearFooter">2025</span> SM Engine TM All rights reserved. Assets are property of their respective creators.</p>
        </div>
    </footer>
  <script src="script.js"></script>
</body>
</html>
